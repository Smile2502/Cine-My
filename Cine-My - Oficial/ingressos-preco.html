<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Cine My</title>
  <link rel="icon" type="image/png" href="img/Logo.png.jpeg">
  <link rel="stylesheet" href="ingresso-preco.css">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="ingresso.css">
</head>

<header>
        <a class="cinema" href="index.html">
        <h1>𝘾𝙞𝙣𝙚 𝙈𝙮</h1>
        </a>
    </form>
    <a href="pag-login.html" class="icone-usuario">
            <img src="img/icone-usuario.png" alt="icone-usuario"> 
    </a>
  </header>


<body>
 <a href="ingresso.html"><img class="voltar" src="img/voltar - Editado.png" alt="voltar"></a>
  <div class="container-2">

    <!-- Opções de ingresso -->
    <div class="ingressos">
      <h2>Escolha o tipo de ingresso</h2>
      <div class="ingresso-card">
        <span>Inteira - R$ 41,90</span>
        <button onclick="adicionarIngresso('Inteira', 41.90)">+</button>
        <button onclick="removerIngresso('Inteira')">-</button> 
      </div>
      <div class="ingresso-card">
        <span>Meia - R$ 20,95</span>
        <button onclick="adicionarIngresso('Meia', 20.95)">+</button>
        <button onclick="removerIngresso('Meia')">-</button> 
      </div>
      <div class="ingresso-card">
        <span>Promocional - R$ 15,00</span>
        <button onclick="adicionarIngresso('Promo', 15.00)">+</button>
        <button onclick="removerIngresso('Promo')">-</button>
      </div>
    </div>

    <div class="resumo resumo-pedido">
      <h3>Resumo do Pedido</h3>

      <div class="resumo-conteudo">
        <div class="resumo-imagem">
          <img src="img/Quarteto-atualizado.png" alt="Quarteto Fantastico 4" class="img-resumo" width="100%">
        </div>

        <div class="resumo-info">
          <h1 class="titulo-filme">Quarteto Fantastico 4</h1>
          <ul class="resumo-detalhes">
            <li>📽️ <strong>Filme:</strong> Quarteto Fantastico</li>
            <li>🕒 <strong>Horário:</strong> 20:40</li>
            <li>💺 <strong>Assentos:</strong></li>
            <ul id="listaIngressos"></ul>
            </li>
            <li>💵 <strong>Total:</strong> <span id="valorTotal">R$ 0,00</span></li>
          </ul>
          <a href="#">
            <button class="btn-finalizar">Finalizar Compra</button>
          </a>
        </div>
      </div>
    </div>
  </div>

  <script>
    let carrinho = [];

    function adicionarIngresso(tipo, preco) {
      carrinho.push({ tipo, preco });
      atualizarResumoDoPedido();
    }

    function removerIngresso(tipo) {
      const index = carrinho.findIndex(ingresso => ingresso.tipo === tipo);
      if (index > -1) {
        carrinho.splice(index, 1);
      }
      atualizarResumoDoPedido();
    }

    function atualizarResumoDoPedido() {
      const listaIngressos = document.getElementById('listaIngressos');
      const valorTotalElemento = document.getElementById('valorTotal');
      
      listaIngressos.innerHTML = '';
      let total = 0;

      // Atualiza a lista de ingressos
      carrinho.forEach(ingresso => {
        const li = document.createElement('li');
        li.textContent = `${ingresso.tipo} - R$ ${ingresso.preco.toFixed(2)}`;
        listaIngressos.appendChild(li);
        total += ingresso.preco;
      });

      // Atualiza o valor total
      valorTotalElemento.textContent = `R$ ${total.toFixed(2)}`;
    }
  </script>
</body>
</html>