<style>
  #mapaAssentos {
    display: flex;
    flex-direction: column;
    gap: 5px;
  }
  .fileira {
    display: flex;
    align-items: center;
    gap: 5px;
  }
  .numero-fileira {
    width: 30px;
    text-align: right;
    font-weight: bold;
  }
  .assento {
    width: 30px;
    height: 30px;
    background-color: #00aaff;
    color: white;
    text-align: center;
    line-height: 30px;
    border-radius: 50%;
    cursor: pointer;
  }
  .assento.ocupado {
    background-color: #999;
    cursor: not-allowed;
  }
  .assento.selecionado {
    background-color: #4CAF50;
  }
</style>

<div id="mapaAssentos"></div>
<ul id="listaAssentos"></ul>
<p>Total: <span id="valorTotal"></span></p>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const mapa = document.getElementById('mapaAssentos');
  const listaAssentos = document.getElementById('listaAssentos');
  const valorTotal = document.getElementById('valorTotal');
  const precoPorAssento = 10.00;

  const assentosPorFileira = 12;
  const totalAssentos = 96;
  const totalFileiras = Math.ceil(totalAssentos / assentosPorFileira);

  let contador = 1;

  for (let f = 1; f <= totalFileiras; f++) {
    const fileira = document.createElement('div');
    fileira.classList.add('fileira');

    const label = document.createElement('div');
    label.classList.add('numero-fileira');
    label.textContent = f;
    fileira.appendChild(label);

    for (let a = 1; a <= assentosPorFileira; a++) {
      if (contador > totalAssentos) break;

      const div = document.createElement('div');
      div.classList.add('assento');
      div.dataset.num = `F${f}-A${a}`;
      div.textContent = contador;

      if (contador % 13 === 0 || contador % 17 === 0) {
        div.classList.add('ocupado');
      }

      fileira.appendChild(div);
      contador++;
    }

    mapa.appendChild(fileira);
  }

  listaAssentos.innerHTML = '<li class="vazio">Nenhum assento selecionado</li>';
  valorTotal.textContent = 'R$ 0,00';

  mapa.addEventListener('click', e => {
    const alvo = e.target;
    if (alvo.classList.contains('assento') && !alvo.classList.contains('ocupado')) {
      alvo.classList.toggle('selecionado');
      atualizarResumo();
    }
  });

  function atualizarResumo() {
    const selecionados = document.querySelectorAll('.assento.selecionado');
    listaAssentos.innerHTML = '';
    let total = 0;

    if (selecionados.length === 0) {
      const vazio = document.createElement('li');
      vazio.classList.add('vazio');
      vazio.textContent = 'Nenhum assento selecionado';
      listaAssentos.appendChild(vazio);
      valorTotal.textContent = 'R$ 0,00';
      return;
    }

    selecionados.forEach(assento => {
      const num = assento.dataset.num;
      const item = document.createElement('li');
      item.textContent = `Assento ${num} - R$ ${precoPorAssento.toFixed(2)}`;
      listaAssentos.appendChild(item);
      total += precoPorAssento;
    });

    valorTotal.textContent = `R$ ${total.toFixed(2)}`;
  }
});
</script>
